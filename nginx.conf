server {
  listen 80;

  # This is the root for your React App's static files
  root /usr/share/nginx/html;
  index index.html;

  # This block serves your React App. If a direct file isn't found,
  # it serves index.html to let React Router handle the route.
  location / {
    try_files $uri $uri/ /index.html;
  }

  # --- THIS IS THE CRITICAL BLOCK FOR YOUR API ---
  # It tells Nginx that any request starting with /api/ should be
  # forwarded to your Node.js backend server.
  location /api/ {
    # The backend is running on localhost:5000 inside the same container
    proxy_pass http://127.0.0.1:5000/;
  }
}